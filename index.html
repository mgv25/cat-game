<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
    <title>–õ–æ–≤–∏ –º—ã—à–µ–π!</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header id="hud" aria-label="–ü–∞–Ω–µ–ª—å –∏–≥—Ä—ã">
      <!-- Row 1 -->
      <div class="hudCard">
        <div class="hudCardLabel">–û—á–∫–∏</div>
        <div class="hudCardValue" id="score">0</div>
      </div>
      <div class="hudCard hudCardTime">
        <div class="hudCardLabel">–í—Ä–µ–º—è</div>
        <div class="hudCardValue"><span id="survivalTime">0</span>—Å</div>
      </div>
      <div class="hudCard">
        <div class="hudCardLabel">–£—Ä–æ–≤–µ–Ω—å</div>
        <div class="hudCardValue" id="level">0</div>
      </div>

      <!-- Row 2 -->
      <div class="hudCard hudCardSmall" id="bestScoreCard">
        <div class="hudCardLabel">–†–µ–∫–æ—Ä–¥ –æ—á–∫–æ–≤</div>
        <div class="hudCardValue" id="bestScoreHud">0</div>
      </div>
      <div class="hudCard hudCardSmall">
        <button id="pauseBtn" class="btnPause" type="button">–°—Ç–æ–ø –∏–≥—Ä–∞</button>
        <button id="settingsBtn" class="btnSettings" type="button" style="display: none;">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </div>
      <div class="hudCard hudCardSmall" id="savedLevelCard">
        <div class="hudCardLabel">–†–µ–∫–æ—Ä–¥ —É—Ä–æ–≤–Ω—è</div>
        <div class="hudCardValue" id="savedLevelHud">0</div>
      </div>
    </header>

    <main id="gameField" aria-label="–ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ">
      <canvas id="gameCanvas"></canvas>

      <section id="startOverlay" class="overlay" aria-label="–°—Ç–∞—Ä—Ç">
        <div class="overlayCard">
          <h1 class="title">–õ–æ–≤–∏ –º—ã—à–µ–π!</h1>
          <p class="subtitle">–£ —Ç–µ–±—è 5 –∂–∏–∑–Ω–µ–π (üßÄ). –õ–æ–≤–∏ –º—ã—à–µ–π ‚Äî –µ—Å–ª–∏ –º—ã—à—å —É–±–µ–≥–∞–µ—Ç, —Ç–µ—Ä—è–µ—à—å –∂–∏–∑–Ω—å. –õ–æ–≤–∏ —Å—ã—Ä, —á—Ç–æ–±—ã –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∂–∏–∑–Ω—å. –ü—Ä–æ–¥–µ—Ä–∂–∏—Å—å –∫–∞–∫ –º–æ–∂–Ω–æ –¥–æ–ª—å—à–µ!</p>
          <div id="savedLevelInfo" class="subtitle" style="display: none; margin-top: 8px;">
            <strong>–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –£—Ä–æ–≤–µ–Ω—å <span id="savedLevelDisplay">0</span></strong>
          </div>
          <button id="continueBtn" class="btn" type="button" style="display: none;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —É—Ä–æ–≤–Ω—è <span id="continueLevelDisplay">0</span></button>
          <button id="startBtn" class="btn" type="button" style="margin-top: 8px;">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
          <button id="historyBtnStart" class="btn btnSecondary" type="button" style="margin-top: 8px;">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</button>
        </div>
      </section>

      <section id="endOverlay" class="overlay hidden" aria-label="–ö–æ–Ω–µ—Ü –∏–≥—Ä—ã">
        <div class="overlayCard">
          <h2 class="title">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</h2>
          <p class="subtitle">–í—Ä–µ–º—è –≤—ã–∂–∏–≤–∞–Ω–∏—è: <strong id="finalTime">0</strong> —Å–µ–∫</p>
          <p class="subtitle">–î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–π —É—Ä–æ–≤–µ–Ω—å: <strong id="finalLevel">0</strong></p>
          <p class="subtitle">–ü–æ–π–º–∞–Ω–æ –º—ã—à–µ–π: <strong id="finalScore">0</strong></p>
          <p class="subtitle">–õ—É—á—à–∏–µ –æ—á–∫–∏: <strong id="finalBest">0</strong></p>
          <div id="savedLevelInfoEnd" class="subtitle" style="display: none; margin-top: 8px;">
            <strong>–°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å: –£—Ä–æ–≤–µ–Ω—å <span id="savedLevelDisplayEnd">0</span></strong>
          </div>
          <button id="continueBtnEnd" class="btn" type="button" style="display: none;">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Å —É—Ä–æ–≤–Ω—è <span id="continueLevelDisplayEnd">0</span></button>
          <button id="restartBtn" class="btn" type="button" style="margin-top: 8px;">–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ</button>
          <button id="historyBtnEnd" class="btn btnSecondary" type="button" style="margin-top: 8px;">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</button>
        </div>
      </section>

      <section id="rotateOverlay" class="overlay hidden" aria-label="–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ">
        <div class="overlayCard">
          <h2 class="title">–ü–æ–≤–µ—Ä–Ω–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</h2>
          <p class="subtitle">–ù–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ –∏–≥—Ä–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –ø–æ—Ä—Ç—Ä–µ—Ç–Ω–æ–π –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏.</p>
        </div>
      </section>

      <section id="historyOverlay" class="overlay hidden" aria-label="–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä" role="dialog" aria-modal="true">
        <div class="overlayCard historyCard">
          <div class="historyHeader">
            <h2 class="title historyTitle">–ò—Å—Ç–æ—Ä–∏—è –∏–≥—Ä</h2>
            <div class="historyHeaderButtons">
              <button id="historyResetRecordsBtn" class="btn btnSmall btnDanger" type="button">–°–±—Ä–æ—Å–∏—Ç—å —Ä–µ–∫–æ—Ä–¥—ã</button>
              <button id="historyCloseBtn" class="btn btnSmall btnClose" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
            </div>
          </div>
          <div id="historyList" class="historyList" aria-label="–ü–æ—Å–ª–µ–¥–Ω–∏–µ –∏–≥—Ä—ã"></div>
        </div>
      </section>

      <section id="pauseOverlay" class="overlay hidden" aria-label="–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ" role="dialog" aria-modal="true">
        <div class="overlayCard">
          <h2 class="title">–ò–≥—Ä–∞ –Ω–∞ –ø–∞—É–∑–µ</h2>
          <button id="resumeBtn" class="btn" type="button">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
          <button id="endGameBtn" class="btn btnDanger" type="button" style="margin-top: 8px;">–ó–∞–∫–æ–Ω—á–∏—Ç—å –∏–≥—Ä—É</button>
        </div>
      </section>

      <section id="settingsOverlay" class="overlay hidden" aria-label="–ù–∞—Å—Ç—Ä–æ–π–∫–∏" role="dialog" aria-modal="true">
        <div class="overlayCard">
          <div class="historyHeader">
            <h2 class="title historyTitle">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <button id="settingsCloseBtn" class="btn btnSmall btnClose" type="button" aria-label="–ó–∞–∫—Ä—ã—Ç—å">√ó</button>
          </div>
          <div class="settingsContent">
            <div class="settingsSection">
              <div class="settingsLabel">–ó–≤—É–∫</div>
              <div class="segmentedControl">
                <button type="button" class="segmentButton active" data-value="on" data-setting="sound">–í–∫–ª</button>
                <button type="button" class="segmentButton" data-value="off" data-setting="sound">–í—ã–∫–ª</button>
              </div>
            </div>
            <div class="settingsSection">
              <div class="settingsLabel">–°–ø–æ—Å–æ–± –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è —É—Ä–æ–≤–Ω–µ–π</div>
              <div class="segmentedControl">
                <button type="button" class="segmentButton active" data-value="fixed" data-setting="levelMode">–ü–æ 17 —Å–µ–∫—É–Ω–¥</button>
                <button type="button" class="segmentButton" data-value="fibonacci" data-setting="levelMode">–§–∏–±–æ–Ω–∞—á—á–∏</button>
              </div>
            </div>
            <div class="settingsSection">
              <div class="settingsLabel">–£–º–µ–Ω—å—à–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–∫–∞–∑–∞ –∂–∏–≤–æ—Ç–Ω—ã—Ö (%)</div>
              <input type="number" id="speedDecreaseInput" class="settingsInput" min="-99" max="99" step="1" value="5" />
              <div class="settingsHint">–ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞ —É–º–µ–Ω—å—à–∞—é—Ç –≤—Ä–µ–º—è, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —É–≤–µ–ª–∏—á–∏–≤–∞—é—Ç</div>
            </div>
            <button id="resetSettingsBtn" class="btn btnDanger" type="button" style="margin-top: 16px;">–°–±—Ä–æ—Å –Ω–∞—Å—Ç—Ä–æ–µ–∫</button>
          </div>
        </div>
      </section>
    </main>

    <script src="./game.js"></script>
  </body>
</html>
